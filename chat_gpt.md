
–ö–æ–Ω–µ—á–Ω–æ. –í–æ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è, –ø–æ–Ω—è—Ç–Ω–∞—è –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ –ø–æ–ª–µ–∑–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –ø–æ gRPC, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω–∞—è –≤ –≤–∏–¥–µ, —É–¥–æ–±–Ω–æ–º –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ Obsidian:

‚∏ª

üõ∞Ô∏è gRPC ‚Äî —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º?

gRPC ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä (Remote Procedure Call), —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π Google.
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–≥–æ–≥–æ –∫–∞–∫ –±—É–¥—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ, –ø—Ä–∏ —ç—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª HTTP/2 + Protocol Buffers (protobuf).

‚∏ª

‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ gRPC
	‚Ä¢	üì¶ Protobuf –≤–º–µ—Å—Ç–æ JSON ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –±—ã—Å—Ç—Ä–µ–µ, —Å–æ–æ–±—â–µ–Ω–∏—è –ª–µ–≥—á–µ.
	‚Ä¢	‚ö° HTTP/2 ‚Äî –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∂–∞—Ç–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å—Ç—Ä–∏–º—ã.
	‚Ä¢	üß© –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî —Ç—ã –æ–ø–∏—Å—ã–≤–∞–µ—à—å API –≤ .proto —Ñ–∞–π–ª–µ, –∏ –∏–∑ –Ω–µ–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–¥ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞.
	‚Ä¢	üß™ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ ‚Äî –≤—Å—ë —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ.
	‚Ä¢	üîÅ Bidirectional Streaming ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∞–º–∏ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (–Ω–µ –∫–∞–∫ —É REST).
	‚Ä¢	üîí –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (TLS, token-based, etc.)

‚∏ª

üß™ –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç .proto —Ñ–∞–π–ª?

syntax = "proto3";

service Greeter {
  rpc SayHello (HelloRequest) returns (HelloReply);
}

message HelloRequest {
  string name = 1;
}

message HelloReply {
  string message = 1;
}


‚∏ª

üß∞ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã
	1.	–¢—ã –ø–∏—à–µ—à—å .proto —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–µ—Ä–≤–∏—Å–∞ –∏ —Ç–∏–ø–æ–≤.
	2.	–ü—Ä–æ–≥–æ–Ω—è–µ—à—å –µ–≥–æ —á–µ—Ä–µ–∑ protoc ‚Äî –æ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ: Go, Python, Java, etc).
	3.	–°–µ—Ä–≤–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É.
	4.	–ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —É–¥–∞–ª—ë–Ω–Ω–æ, –±—É–¥—Ç–æ —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

‚∏ª

üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ gRPC vs REST

–ß—Ç–æ	gRPC	REST (HTTP + JSON)
–§–æ—Ä–º–∞—Ç	Protobuf (–±–∏–Ω–∞—Ä–Ω—ã–π)	JSON (—Ç–µ–∫—Å—Ç–æ–≤—ã–π)
–°–∫–æ—Ä–æ—Å—Ç—å	–ë—ã—Å—Ç—Ä–µ–µ	–ú–µ–¥–ª–µ–Ω–Ω–µ–µ
–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã	–Ø–≤–Ω—ã–π —á–µ—Ä–µ–∑ .proto	–ù–µ—è–≤–Ω—ã–π, —á–µ—Ä–µ–∑ OpenAPI
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∏–º–æ–≤	–î–∞	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è (—á–µ—Ä–µ–∑ WebSocket)
–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å	–°–ª–æ–∂–Ω–µ–µ (–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)	–õ–µ–≥—á–µ
–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞	–ü–ª–æ—Ö–æ	–û—Ç–ª–∏—á–Ω–æ


‚∏ª

üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gRPC?

‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å (–Ω–∏–∑–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏, –±–æ–ª—å—à–æ–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö)
‚úÖ –í –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö (—Ç–∞–º, –≥–¥–µ –Ω–µ—Ç –Ω—É–∂–¥—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
‚úÖ –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç
‚úÖ –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏–ª–∏ IoT-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—ç–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞)

‚õî –ù–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
	‚Ä¢	–í –ø—É–±–ª–∏—á–Ω—ã—Ö API, –µ—Å–ª–∏ –≤–∞–∂–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å
	‚Ä¢	–¢–∞–º, –≥–¥–µ –Ω—É–∂–Ω—ã –≥–∏–±–∫–∏–µ PATCH-–∑–∞–ø—Ä–æ—Å—ã –∏ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ URL

‚∏ª

üöÄ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Python-–∫–æ–¥–∞ –∏–∑ .proto —Ñ–∞–π–ª–∞
python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. myproto.proto


‚∏ª

üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
	‚Ä¢	–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç gRPC
	‚Ä¢	Protobuf Language Guide
	‚Ä¢	gRPC vs REST: —Ä–∞–∑–±–æ—Ä

‚∏ª

‚ùì–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è
	‚Ä¢	–ö–∞–∫–∏–µ –∏–∑ —Ç–≤–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–≥–ª–∏ –±—ã –≤—ã–∏–≥—Ä–∞—Ç—å –æ—Ç –±–∏–Ω–∞—Ä–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ç—Ä–∏–º–æ–≤?
	‚Ä¢	–ï—Å—Ç—å –ª–∏ —É—á–∞—Å—Ç–∫–∏ —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ —Ç—ã —Ö–æ—á–µ—à—å –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç REST-—Ö–∞–æ—Å–∞?
	‚Ä¢	–ì–æ—Ç–æ–≤ –ª–∏ —Ç–≤–æ–π —Å—Ç–µ–∫ (–∏ –∫–æ–º–∞–Ω–¥–∞) –∫ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º?

‚∏ª

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É –æ—Ç–¥–µ–ª—å–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ—Ä–æ—Ç–∫—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: ¬´–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å gRPC —Ä—É—á–∫–∞–º–∏ –∫–∞–∫ QA¬ª ‚Äî —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º grpcurl, Postman –∏–ª–∏ Python.